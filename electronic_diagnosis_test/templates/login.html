{% extends 'base.html' %} {%load static %} {% block content %}



      <div style="max-width: 450px; margin: auto;">
        <div class="text-center mb-4">
          <h2 class="">تسجيل الدخول</h2>
        </div>
  
        <form method="POST">
          {% csrf_token %}
  
          <div class="mb-3">
            <label for="username" class="form-label">اسم المستخدم</label>
            <input type="text" class="form-control" id="username" name="username" placeholder="أدخل اسم المستخدم">
          </div>
  
          <div class="mb-4">
            <label for="password" class="form-label">كلمة المرور</label>
            <div class="input-group">
              <input type="password" class="form-control" id="password" name="password" placeholder="أدخل كلمة المرور">
              <span class="input-group-text" onclick="togglePassword()" style="cursor:pointer" title="إظهار كلمة المرور" aria-label="إظهار كلمة المرور">
                <i class="bi bi-eye" id="togglePasswordIcon"></i>
              </span>
            </div>
          </div>
  
          <div class="d-grid">
            <button type="submit" class="btn btn-primary-color fs-5">دخول</button>
          </div>
  
          {% if messages %}
          <div class="mt-3">
            {% for message in messages %}
            <div class="alert alert-danger">{{ message }}</div>
            {% endfor %}
          </div>
          {% endif %}
        </form>
      </div>

      <script>
        function togglePassword() {
          const input = document.getElementById('password');
          const icon  = document.getElementById('togglePasswordIcon');
      
          const isHidden = input.type === 'password';
          input.type = isHidden ? 'text' : 'password';
      
          // swap Icons
          if (isHidden) {
            icon.classList.remove('bi-eye');
            icon.classList.add('bi-eye-slash');
            icon.parentElement.setAttribute('title', 'إخفاء كلمة المرور');
            icon.parentElement.setAttribute('aria-label', 'إخفاء كلمة المرور');
          } else {
            icon.classList.remove('bi-eye-slash');
            icon.classList.add('bi-eye');
            icon.parentElement.setAttribute('title', 'إظهار كلمة المرور');
            icon.parentElement.setAttribute('aria-label', 'إظهار كلمة المرور');
          }
      

          input.focus();
          const len = input.value.length;
          input.setSelectionRange(len, len);
        }
      </script>
      



{% endblock %}